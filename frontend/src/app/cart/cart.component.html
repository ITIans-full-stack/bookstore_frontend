<div class="container1 py-5">
  <div class="container">
    <h2 class="mb-4 your-cart-title">
      <i class="fas fa-shopping-cart me-2"></i> Cart
    </h2>

    <div class="row gx-5">
   <!-- Cart Items -->
<div class="col-lg-8">
  <ng-container *ngIf="cartItems.length > 0; else emptyCart">

 <!-- Headers -->

<div class="cart-header-row text-muted fw-semibold px-2 py-2 mb-2 d-none d-md-block">
  <div class="row g-0 text-center">
    <div class="col-5 text-start ps-3">Product</div>
    <div class="col-2">Price</div>
    <div class="col-2">Quantity</div>
    <div class="col-2">Subtotal</div>
    <div class="col-1">Remove</div>
  </div>
</div>


<div class="cart-items-wrapper d-none d-md-block">
  <div *ngFor="let item of cartItems" class="cart-row shadow-sm rounded mb-3 p-3 bg-white">
    <div class="row align-items-center text-center">
      <div class="col-5 d-flex align-items-center text-start gap-3">
        <img [src]="item.imageUrl" class="cart-thumb" alt="">
        <div>
          <div class="fw-semibold">{{ item.title }}</div>
        </div>
      </div>
      <div class="col-2">{{ item.price }} EGP</div>
      <div class="col-2">
        <div class="quantity-control mx-auto d-inline-flex">
          <button (click)="decreaseQty(item)"><i class="fas fa-minus"></i></button>
          <span>{{ item.quantity }}</span>
          <button (click)="increaseQty(item)"><i class="fas fa-plus"></i></button>
        </div>
      </div>
      <div class="col-2 fw-bold">{{ item.price * item.quantity }} EGP</div>
      <div class="col-1">
        <button (click)="removeItem(item)" class="btn btn-remove-icon">
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
    </div>
  </div>
</div>


<div class="cart-items-wrapper d-block d-md-none">
  <div *ngFor="let item of cartItems" class="cart-row shadow-sm rounded mb-3 p-3 bg-white">
    <div class="d-flex gap-3 align-items-center mb-3">
      <img [src]="item.imageUrl" class="cart-thumb" alt="">
      <div>
        <div class="fw-semibold">{{ item.title }}</div>
        <div class="text-muted small">{{ item.price }} EGP</div>
      </div>
    </div>

    <div class="d-flex justify-content-between mb-2">
      <span class="text-muted">Quantity</span>
      <div class="quantity-control">
        <button (click)="decreaseQty(item)"><i class="fas fa-minus"></i></button>
        <span>{{ item.quantity }}</span>
        <button (click)="increaseQty(item)"><i class="fas fa-plus"></i></button>
      </div>
    </div>

    <div class="d-flex justify-content-between mb-2">
      <span class="text-muted">Subtotal</span>
      <strong>{{ item.price * item.quantity }} EGP</strong>
    </div>

    <div class="text-end">
      <button (click)="removeItem(item)" class="btn btn-remove-icon">
        <i class="fas fa-trash-alt"></i>
      </button>
    </div>
  </div>
</div>




    <!-- Action Buttons -->
    <div class="d-flex justify-content-between mt-4">
      <button class="btn btn-outline-secondary">Return To Shop</button>
    </div>
  </ng-container>

  <!-- Empty Cart Template -->
  <ng-template #emptyCart>
    <div class="text-center py-5 empty-cart">
      <i class="fas fa-box-open fa-3x text-secondary mb-3"></i>
      <p class="fs-5">Your cart is empty.</p>
    </div>
  </ng-template>
</div>


      <!-- Cart Summary -->
      <div class="col-lg-4">
        <div class="cart-summary">
          <h5>Cart Total</h5>
          <div class="d-flex justify-content-between mb-2">
            <span>Subtotal</span>
            <span>{{ getTotalPrice() }} EGP</span>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span>Shipping</span>
            <span>Free</span>
          </div>
          <hr>
          <div class="d-flex justify-content-between fw-bold mb-3">
            <span>Total</span>
            <span>{{ getTotalPrice() }} EGP</span>
          </div>
          <button class="btn btn-danger w-100">Proceed to Checkout</button>
        </div>
      </div>
    </div>
  </div>
</div>
