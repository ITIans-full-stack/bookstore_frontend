<div class="order-history-container">
  <h2 class="title">My Orders</h2>

  <div *ngIf="orders.length === 0" class="empty-message">
    <p>You havenâ€™t placed any orders yet.</p>
  </div>

  <div *ngFor="let order of orders" class="order-card">
    <div class="order-header">
      <div><strong>Order ID:</strong> {{ order._id }}</div>
      <div><strong>Date:</strong> {{ order.createdAt | date: 'mediumDate' }}</div>
      <div [ngClass]="getStatusClass(order.status)">
        <strong>Status:</strong> {{ order.status | titlecase }}
      </div>
    </div>

    <div class="book-list">
      <div *ngFor="let item of order.books" class="book-item">
        <img [src]="item.book?.image" alt="Book" class="book-image" />
        <div class="book-details">
          <div class="book-title">{{ item.book?.title }}</div>
          <div class="book-quantity">Qty: {{ item.quantity }}</div>
        </div>
      </div>
    </div>

    <div class="order-footer">
      <div><strong>Total:</strong> {{ order.totalPrice }} EGP</div>
      <!-- <button class="view-btn">View Order Details</button> -->
       <button *ngIf="order.status === 'pending' || order.status === 'processing'" (click)="cancelOrder(order._id)" class="cancel-btn">
          Cancel Order
        </button>

    </div>
  </div>
</div>
